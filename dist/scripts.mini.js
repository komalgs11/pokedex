let pokemonRepository=function(){let e=[],t=document.querySelector("#exampleModal");function n(e){pokemonRepository.loadDetails(e).then(function(){document.querySelector(".modal-title").innerHTML=e.name;document.querySelector(".pokemon-image").src=e.imageUrl;document.querySelector(".pokemon-height").innerText="Height: "+e.height,t.classList.add("is-visible")})}function o(){t.classList.remove("is-visible")}function i(t){"object"==typeof t&&"name"in t?e.push(t):console.log("pokemon is not correct")}function r(){return e}function a(e){pokemonRepository.loadDetails(e).then(function(){n(e)})}return window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&o()}),t.addEventListener("click",e=>{e.target===t&&o()}),{getAll:r,add:i,addListItem:function e(t){let n=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("list-group-item");let i=document.createElement("button");i.innerText=t.name,i.classList.add("btn-secondary"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#exampleModal"),o.appendChild(i),n.appendChild(o),i.addEventListener("click",function(){a(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=50").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url,height:e.height})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height}).catch(function(e){console.error(e)})},showDetails:a,showModal:n,hideModal:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});